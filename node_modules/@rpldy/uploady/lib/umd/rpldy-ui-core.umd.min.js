/*!
 * MIT License
 * 
 * Copyright (c) 2020 Yoav Niran
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],e):"object"==typeof exports?exports.rpldy=e(require("react"),require("react-dom")):t.rpldy=e(t.react,t["react-dom"])}(window,(function(t,e){return function(t){function e(e){for(var r,i,a=e[0],c=e[1],l=e[2],s=0,f=[];s<a.length;s++)i=a[s],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&f.push(o[i][0]),o[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);for(d&&d(e);f.length;)f.shift()();return u.push.apply(u,l||[]),n()}function n(){for(var t,e=0;e<u.length;e++){for(var n=u[e],r=!0,a=1;a<n.length;a++){var c=n[a];0!==o[c]&&(r=!1)}r&&(u.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},o={uiCore:0},u=[];function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var a=window.webpackJsonprpldy=window.webpackJsonprpldy||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var l=0;l<a.length;l++)e(a[l]);var d=c;return u.push([0,"polyfills"]),n()}({0:function(t,e,n){n("Xsbf"),n("mHo/"),n("GjXi"),n("SXZu"),n("h0aC"),t.exports=n("lFlW")},"10TY":function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return u}));var r="__rupy-logger-debug__",o={ADDED:"added",PROCESSING:"processing",UPLOADING:"uploading",CANCELLED:"cancelled",FINISHED:"finished",ABORTED:"aborted"},u={ADDED:"added",UPLOADING:"uploading",CANCELLED:"cancelled",FINISHED:"finished",ERROR:"error",ABORTED:"aborted"}},GjXi:function(t,e,n){"use strict";n.r(e),n.d(e,"send",(function(){return B})),n.d(e,"getXhrSend",(function(){return U})),n.d(e,"XHR_SENDER_TYPE",(function(){return f})),n.d(e,"MissingUrlError",(function(){return m}));var r=n("o+MX"),o=n.n(r),u=n("ZbhI"),i=n.n(u),a=n("UtpJ"),c=n.n(a),l=n("kT1S"),d=n.n(l),s=n("mHo/"),f="rpldy-sender",p=n("06Pm"),E=n.n(p),g=n("X5/F"),v=n.n(g),h=n("K82H"),b=n.n(h),S=n("P0a4"),m=function(t){v()(n,t);var e=b()(n);function n(t){var r;return E()(this,n),(r=e.call(this,"".concat(t," didn't receive upload URL"))).name="MissingUrlError",r}return n}(n.n(S)()(Error)),T=n("zLi2"),A=n.n(T),O=n("i5y0"),L=n.n(O),R=n("RXMP"),_=n.n(R),I=function(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),u=2;u<n;u++)r[u-2]=arguments[u];var i,a;t.set?t.set.apply(t,o()(i=[e]).call(i,r)):(t.delete&&t.delete(e),t.append.apply(t,o()(a=[e]).call(a,r)))},y=function(t,e){var n,r=new FormData;e.params&&_()(n=L()(e.params)).call(n,(function(t){var e=A()(t,2),n=e[0],o=e[1];return I(r,n,o)}));return function(t,e,n){var r=1===e.length;_()(e).call(e,(function(e,u){var i,a=r?n.paramName:Object(s.isFunction)(n.formatGroupParamName)?n.formatGroupParamName(u,n.paramName):o()(i="".concat(n.paramName,"[")).call(i,u,"]");e.file?I(t,a,e.file,e.file.name):e.url&&I(t,a,e.url)}))}(r,t,e),r},C=[200,201,202,203,204],P=function(t,e,n,r,o){var u,i=(null==o?void 0:o.getRequestData)?o.getRequestData(t,n):function(t,e){var n;if(e.sendWithFormData)s.logger.debugLog("uploady.sender: sending ".concat(t.length," item(s) as form data")),n=y(t,e);else{if(t.length>1)throw new Error("XHR Sender - Request without form data can only contain 1 item. received ".concat(t.length));var r=t[0];s.logger.debugLog("uploady.sender: sending item ".concat(r.id," as request body")),n=r.file||r.url}return n}(t,n),a=function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,l=arguments.length>2?arguments[2]:void 0;l=Object(s.merge)(d()(d()({},Object(s.pick)(n,["method","headers","withCredentials"])),{},{preSend:function(e){e.upload.onprogress=function(e){e.lengthComputable&&r&&r(e,c()(t).call(t))}}}),l);var f=Object(s.request)(o,a,l);return u=f.xhr,f},l=(null==o?void 0:o.preRequestHandler)?o.preRequestHandler(a,t,e,n,r,o):a();return{url:e,count:t.length,pXhr:l,getXhr:function(){return u},aborted:!1}},w=function(t,e,n){var r=t,o=e&&e["content-type"];if(n.forceJsonResponse||o&&~i()(o).call(o,"json"))try{r=JSON.parse(t)}catch(t){}return r},D=function(t,e){return t.pXhr.then((function(t){var n,r;s.logger.debugLog("uploady.sender: received upload response ",t),n=~i()(C).call(C,t.status)?s.FILE_STATES.FINISHED:s.FILE_STATES.ERROR,r=t.status;var o=Object(s.parseResponseHeaders)(t);return{status:r,state:n,response:{data:w(t.response,o,e),headers:o}}})).catch((function(e){var n,r;return t.aborted?(n=s.FILE_STATES.ABORTED,r="aborted"):(s.logger.debugLog("uploady.sender: upload failed: ",e),n=s.FILE_STATES.ERROR,r=e),{error:!0,state:n,response:r,status:0}}))},U=function(t){return function(e,n,r,u){if(!n)throw new m(f);s.logger.debugLog("uploady.sender: sending file: ",{items:e,url:n,options:r});var i=P(e,n,r,u,t);return{request:D(i,r),abort:function(){return function(t){var e,n=!1,r=t.aborted,u=(0,t.getXhr)();!r&&u&&u.readyState&&4!==u.readyState&&(s.logger.debugLog(o()(e="uploady.sender: cancelling request with ".concat(t.count," items to: ")).call(e,t.url)),u.abort(),t.aborted=!0,n=!0);return n}(i)},senderType:f}}},B=U();e.default=B},SXZu:function(t,e,n){"use strict";n.r(e),n.d(e,"UPLOADER_EVENTS",(function(){return z})),n.d(e,"DEFAULT_OPTIONS",(function(){return Dt})),n.d(e,"composeEnhancers",(function(){return kt})),n.d(e,"createUploader",(function(){return Xt})),n.d(e,"send",(function(){return Pt.send})),n.d(e,"getXhrSend",(function(){return Pt.getXhrSend})),n.d(e,"XHR_SENDER_TYPE",(function(){return Pt.XHR_SENDER_TYPE})),n.d(e,"MissingUrlError",(function(){return Pt.MissingUrlError}));var r,o=n("FLGM"),u=n.n(o),i=n("RXMP"),a=n.n(i),c=n("M5Mt"),l=n.n(c),d=n("UtpJ"),s=n.n(d),f=n("OBge"),p=n.n(f),E=n("o+MX"),g=n.n(E),v=n("STz3"),h=n.n(v),b=n("Xsbf"),S=n("mHo/"),m=n("KYsz"),T=n.n(m),A=n("zLi2"),O=n.n(A),L=n("LYCE"),R=n.n(L),_=n("+oHS"),I=n.n(_),y=n("CtDf"),C=n.n(y),P=C()("__rpldy-sstt-proxy__"),w=C()("__rpldy-sstt-state__"),D=n("6UaR"),U=n.n(D),B=n("OWCx"),N=n.n(B),F=n("ZbhI"),j=n.n(F),H=function(t){var e;return!Object(S.isProduction)()&&!!t&&!!~j()(e=N()(t)).call(e,P)},M=function(t){return U()(t)||Object(S.isPlainObject)(t)&&!function(t){return Object(S.hasWindow)()&&t instanceof File||t.name&&t.size&&t.uri}(t)},x=Object(S.getMerge)({withSymbols:!0,predicate:function(t){return t!==P&&t!==w}}),G=function(t){return!!Object(S.isProduction)()||t[w].isUpdateable},X=function(t,e){Object(S.isProduction)()||(t[w].isUpdateable=e)},k=function(t,e){var n,r;M(t)&&(H(t)||(t[P]=!0,n=new Proxy(t,e)),a()(r=I()(t)).call(r,(function(n){t[n]=k(t[n],e)})));return n||t},q=function(t){return H(t)?Object(S.clone)(t,x):t},z=Object(S.devFreeze)({BATCH_ADD:"BATCH-ADD",BATCH_START:"BATCH-START",BATCH_PROGRESS:"BATCH_PROGRESS",BATCH_FINISH:"BATCH-FINISH",BATCH_ABORT:"BATCH-ABORT",BATCH_CANCEL:"BATCH-CANCEL",ITEM_START:"FILE-START",ITEM_CANCEL:"FILE-CANCEL",ITEM_PROGRESS:"FILE-PROGRESS",ITEM_FINISH:"FILE-FINISH",ITEM_ABORT:"FILE-ABORT",ITEM_ERROR:"FILE-ERROR",ITEM_FINALIZE:"FILE-FINALIZE",REQUEST_PRE_SEND:"REQUEST_PRE_SEND",ALL_ABORT:"ALL_ABORT"}),V=Object(S.devFreeze)({ITEM_PROGRESS:"ITEM_PROGRESS",BATCH_PROGRESS:"BATCH_PROGRESS"}),W=n("cdeZ"),Q=n.n(W),Z=n("5PDf"),Y=n.n(Z),J=n("04Ix"),K=n.n(J),$=n("TEMH"),tt=n.n($),et=n("mnMc"),nt=n.n(et),rt=n("kT1S"),ot=n.n(rt),ut=[S.BATCH_STATES.ADDED,S.BATCH_STATES.PROCESSING,S.BATCH_STATES.UPLOADING],it=function(t,e){return t.batches[e].batch},at=function(t,e,n){return t.getState().items[e].batchId===n},ct=function(t,e){var n=t.getState(),r=n.items[e];return n.batches[r.batchId]},lt=function(t,e){return ct(t,e).batch},dt=function(t,e){var n=function(t,e){return it(t.getState(),e)}(t,e);t.updateState((function(t){var e;a()(e=n.items).call(e,(function(e){var n,r=e.id;delete t.items[r];var o,u=j()(n=t.itemQueue).call(n,r);~u&&l()(o=t.itemQueue).call(o,u,1)}))}))},st=function(t,e){t.updateState((function(t){delete t.batches[e]}))},ft=function(t,e){var n=lt(t,e);return t.getState().currentBatch!==n.id},pt=function(t){var e=t.getState(),n=e.currentBatch;n&&e.batches[n]&&function(t){var e=t.getState().itemQueue;return 0===e.length||ft(t,e[0])}(t)&&(Et(t,n,z.BATCH_FINISH),dt(t,n),st(t,n))},Et=function(t,e,n){var r,o=t.getState(),i=it(o,e),a=o.items,c=ot()(ot()({},q(i)),{},{items:u()(r=i.items).call(r,(function(t){var e=t.id;return q(a[e])}))});t.trigger(n,c)},gt=function(t,e){var n=lt(t,e);return nt()(ut).call(ut,n.state)},vt=(r={},K()(r,S.FILE_STATES.ADDED,z.ITEM_START),K()(r,S.FILE_STATES.FINISHED,z.ITEM_FINISH),K()(r,S.FILE_STATES.ERROR,z.ITEM_ERROR),K()(r,S.FILE_STATES.CANCELLED,z.ITEM_CANCEL),K()(r,S.FILE_STATES.ABORTED,z.ITEM_ABORT),K()(r,S.FILE_STATES.UPLOADING,z.ITEM_PROGRESS),r),ht=[S.FILE_STATES.FINISHED,S.FILE_STATES.ERROR,S.FILE_STATES.CANCELLED,S.FILE_STATES.ABORTED],bt=function(t){return!!~j()(ht).call(ht,t.state)},St=function(t,e,n){return a()(e).call(e,(function(e){var n,r=t.getState(),o=e.id,u=e.info;if(S.logger.debugLog("uploader.processor.queue: request finished for item - ",{id:o,info:u}),r.items[o]){t.updateState((function(t){var e=t.items[o];e.state=u.state,e.uploadResponse=u.response,bt(e)&&delete t.aborts[o]}));var i=t.getState().items[o];u.state===S.FILE_STATES.FINISHED&&i.completed<100&&t.handleItemProgress(i,100,i.file?i.file.size:0),t.trigger(vt[i.state],i),bt(i)&&t.trigger(z.ITEM_FINALIZE,i)}var a=j()(n=r.itemQueue).call(n,o);~a&&t.updateState((function(t){var e,n;l()(e=t.itemQueue).call(e,a,1);var r,u=j()(n=t.activeIds).call(n,o);~u&&l()(r=t.activeIds).call(r,u,1)}))})),pt(t),n(t)},mt=Object(S.getMerge)({undefinedOverwrites:!0}),Tt=function(t,e){var n=u()(e).call(e,(function(t){return t.id}));return t.updateState((function(t){var e;t.activeIds=g()(e=t.activeIds).call(e,n)})),function(t,e,n){return Object(S.triggerUpdater)(t.trigger,z.REQUEST_PRE_SEND,{items:e,options:n}).then((function(t){if(t){if(S.logger.debugLog("uploader.queue: REQUEST_PRE_SEND event returned updated items/options",t),t.items){if(t.items.length!==e.length||!Object(S.isSamePropInArrays)(t.items,e,["id","batchId","recycled"]))throw new Error("REQUEST_PRE_SEND event handlers must return same items with same ids");e=t.items}t.options&&(n=mt({},n,t.options))}return{items:e,options:n,cancelled:!1===t}}))}(t,e,t.getState().batches[e[0].batchId].batchOptions).then((function(n){if(!n.cancelled){var r;t.updateState((function(t){var r;a()(r=n.items).call(r,(function(e){t.items[e.id]=e})),t.batches[e[0].batchId].batchOptions=n.options}));var o=t.getState();n.items=u()(r=n.items).call(r,(function(t){return o.items[t.id]})),n.options=o.batches[e[0].batchId].batchOptions}return n}))},At=function(t,e,n){var r,o=e.items,i=e.options,c=t.getState().batches[o[0].batchId].batch;try{r=t.sender.send(o,c,i)}catch(t){S.logger.debugLog("uploader.queue: sender failed with unexpected error",t),r={request:p.a.resolve({status:0,state:S.FILE_STATES.ERROR,response:t.message}),abort:function(){return!1},senderType:"exception-handler"}}return function(t,e,n){t.updateState((function(t){a()(e).call(e,(function(e){t.items[e.id].state=S.FILE_STATES.UPLOADING,t.aborts[e.id]=n.abort}))}))}(t,o,r),r.request.then((function(e){var r=u()(o).call(o,(function(t){return{id:t.id,info:e}}));St(t,r,n)}))},Ot=function(t,e,n){var r=t.getState(),o=h()(r.items);return o=Y()(o).call(o,(function(t){return!!~j()(e).call(e,t.id)})),p.a.all(u()(o).call(o,(function(e){return t.runCancellable(z.ITEM_START,e)}))).then((function(e){var n;return{allowedItems:Y()(n=u()(e).call(e,(function(e,n){return e?null:function(t,e){return e.getState().items[t]}(o[n].id,t)}))).call(n,Boolean),cancelledResults:e}})).then((function(r){var i=r.allowedItems,a=r.cancelledResults;return(i.length?Tt(t,i).then():p.a.resolve()).then((function(r){var i;return r&&(r.cancelled?a=u()(e).call(e,(function(){return!0})):At(t,r,n)),function(t,e,n,r){var o,i=Y()(o=u()(n).call(n,(function(t,n){return t?e[n].id:null}))).call(o,Boolean);if(i.length){var a=u()(i).call(i,(function(t){return{id:t,info:{status:0,state:S.FILE_STATES.CANCELLED,response:"cancel"}}}));St(t,a,r)}return!!i.length}(t,o,a,n)||(i=n(t)),i}))}))},Lt=function(t,e){var n,r;return!!~j()(n=Q()(r=t.getState().activeIds).call(r)).call(n,e)},Rt=function(t){var e,n=t.getState().itemQueue,r=function(t){for(var e=t.getState(),n=e.itemQueue,r=e.items,o=0,u=n[o];u&&(Lt(t,u)||!gt(t,u)||r[u].state!==S.FILE_STATES.ADDED);)u=n[o+=1];return u?o:-1}(t),o=n[r];if(o){var u=ct(t,o),i=u.batch.id,a=u.batchOptions.maxGroupSize||0;if(u.batchOptions.grouped&&a>1){e=[];for(var c=!0;e.length<a&&c;)e.push(o),c=(o=n[r+e.length])&&at(t,o,i)}else e=[o]}return e},_t=function(t){var e=Rt(t),n=p.a.resolve();if(e){var r=t.getCurrentActiveCount(),o=t.getOptions(),u=o.concurrent,i=void 0===u?0:u,a=o.maxConcurrent;if(!r||i&&r<(void 0===a?0:a)){S.logger.debugLog("uploader.processor: Processing next upload - ",{ids:e,state:t.getState(),currentCount:r});var c=!1,l=p.a.resolve(!1);ft(t,e[0])&&(l=function(t,e){var n=lt(t,e);return t.runCancellable(z.BATCH_START,n).then((function(e){return e||t.updateState((function(t){t.currentBatch=n.id})),!e}))}(t,e[0]).then((function(n){return(c=!n)&&(!function(t,e){var n=lt(t,e),r=n.id;S.logger.debugLog("uploady.uploader.processor: cancelling batch: ",{batch:n}),t.updateState((function(t){it(t,r).state=S.BATCH_STATES.CANCELLED})),Et(t,r,z.BATCH_CANCEL),dt(t,r),st(t,r)}(t,e[0]),_t(t)),c}))),n=l.then((function(n){n||Ot(t,e,_t)}))}}return n},It=_t,yt=function(t,e,n){var r=!1,o=t.getState(),u=o.items[e];return u&&function(t){return t===S.FILE_STATES.ADDED||t===S.FILE_STATES.UPLOADING}(u.state)&&(S.logger.debugLog("uploader.queue: aborting item in progress - ",u),u.state===S.FILE_STATES.UPLOADING?(t.updateState((function(t){t.items[e].state=S.FILE_STATES.ABORTED})),r=o.aborts[e]()):(St(t,[{id:e,info:{status:0,state:S.FILE_STATES.ABORTED,response:"aborted"}}],n),r=!0)),r},Ct=function(t,e,n,r,o){var u=function(t){var e={set:function(t,r,o){return G(n)&&(t[r]=k(o,e)),!0},get:function(t,e){return e===P?q(t):t[e]},defineProperty:function(){throw new Error("Simple State doesnt support defining property")},setPrototypeOf:function(){throw new Error("Simple State doesnt support setting prototype")},deleteProperty:function(t,e){return G(n)&&delete t[e],!0}};Object(S.isProduction)()||H(t)||R()(t,w,{value:{isUpdateable:!1},configurable:!0});var n=Object(S.isProduction)()?t:k(t,e);return{state:n,update:function(t){if(!Object(S.isProduction)()&&G(n))throw new Error("Can't call update on State already being updated!");try{X(n,!0),t(n)}finally{X(n,!1)}return n},unwrap:function(t){return t?q(t):H(n)?q(n):n}}}({itemQueue:[],currentBatch:null,batches:{},items:{},activeIds:[],aborts:{}}),i=u.state,c=u.update,d=function(){return i},s=function(t){c(t)},f=function(t){if(i.items[t.id]&&!t.recycled)throw new Error("Uploader queue conflict - item ".concat(t.id," already exists"));t.recycled&&function(t,e){var n=e.previousBatch;if(e.recycled&&n&&t.getState().batches[n]){var r=lt(t,e.id).id;r===n&&t.updateState((function(t){var n,o,u=it(t,r),i=tt()(n=u.items).call(n,(function(t){return t.id===e.id}));~i&&l()(o=u.items).call(o,i,1)}))}}(E,t),s((function(e){e.items[t.id]=t,e.itemQueue.push(t.id)}))},p=function(t,n,r){i.items[t.id]&&(s((function(e){var o=e.items[t.id];o.loaded=r,o.completed=n})),e(z.ITEM_PROGRESS,d().items[t.id]))};r.on(V.ITEM_PROGRESS,p),r.on(V.BATCH_PROGRESS,(function(t){var n,r=null===(n=i.batches[t.id])||void 0===n?void 0:n.batch.items;if(r){var o=T()(r).call(r,(function(t,e){return t[0]+=e.completed,t[1]+=e.loaded,t}),[0,0]),u=O()(o,2),a=u[0],c=u[1];s((function(e){var n=e.batches[t.id].batch;n.completed=a/r.length,n.loaded=c})),e(z.BATCH_PROGRESS,i.batches[t.id].batch)}}));var E={getOptions:function(){return t},getCurrentActiveCount:function(){return i.activeIds.length},getState:d,updateState:s,trigger:e,runCancellable:function(t){var e;if(!Object(S.isFunction)(n))throw new Error("cancellable is of wrong type");for(var r=arguments.length,o=new Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=arguments[u];return n.apply(void 0,g()(e=[t]).call(e,o))},sender:r,handleItemProgress:p};return Object(S.hasWindow)()&&S.logger.isDebugOn()&&(window["__rpldy_".concat(o,"_queue_state")]=E),{updateState:s,getState:E.getState,runCancellable:E.runCancellable,uploadBatch:function(t,e){var n;e&&s((function(n){n.batches[t.id].batchOptions=e})),a()(n=t.items).call(n,f),It(E)},addBatch:function(t,e){return s((function(n){n.batches[t.id]={batch:t,batchOptions:e}})),it(i,t.id)},abortItem:function(t){return function(t,e,n){return yt(t,e,n)}(E,t,It)},abortBatch:function(t){!function(t,e,n){var r,o=t.getState().batches[e],u=null==o?void 0:o.batch;u&&u.state!==S.BATCH_STATES.CANCELLED&&u.state!==S.BATCH_STATES.FINISHED&&(a()(r=u.items).call(r,(function(e){return yt(t,e.id,n)})),t.updateState((function(t){it(t,e).state=S.BATCH_STATES.ABORTED})),Et(t,e,z.BATCH_ABORT))}(E,t,It)},abortAll:function(){var t,e,n,r;e=It,r=(t=E).getState().items,a()(n=I()(r)).call(n,(function(n){return yt(t,n,e)})),t.trigger(z.ALL_ABORT)}}},Pt=n("GjXi"),wt=function(){return!0},Dt=Object(S.devFreeze)({autoUpload:!0,clearPendingOnAdd:!1,inputFieldName:"file",concurrent:!1,maxConcurrent:2,grouped:!1,maxGroupSize:5,method:"POST",params:{},fileFilter:wt,forceJsonResponse:!1,withCredentials:!1,destination:{},send:null,sendWithFormData:!0}),Ut=function(t,e,n,r){!function(t,e,n,r){a()(t).call(t,(function(t){var o,u;S.logger.debugLog(g()(o=g()(u="uploady.uploader.processor: file: ".concat(t.id," progress event: loaded(")).call(u,n,") - completed(")).call(o,e,")")),r(V.ITEM_PROGRESS,t,e,n)}))}(t,Math.min(n.loaded/n.total*100,100)/t.length,n.loaded/t.length,r),r(V.BATCH_PROGRESS,e)},Bt=function(){var t=Object(b.default)({send:function(t,n,r){var o=r.destination,u=null==o?void 0:o.url,i=Object(S.throttle)((function(r){return Ut(t,n,r,e)}),50,!0);return(Object(S.isFunction)(r.send)?r.send:Pt.default)(t,u,{method:(null==o?void 0:o.method)||r.method||Dt.method,paramName:(null==o?void 0:o.filesParamName)||r.inputFieldName||"file",params:ot()(ot()({},r.params),null==o?void 0:o.params),forceJsonResponse:r.forceJsonResponse,withCredentials:r.withCredentials,formatGroupParamName:r.formatGroupParamName,headers:null==o?void 0:o.headers,sendWithFormData:r.sendWithFormData},i)}},h()(V)),e=t.trigger;return t.target},Nt=Object(S.hasWindow)()&&"FileList"in window,Ft=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t;if(!Object(S.isProduction)())if(e<3&&H(t))n=q(t);else if(e<3&&M(t)){var r,o;n=U()(t)?u()(r=I()(t)).call(r,(function(e){return Ft(t[e])})):T()(o=I()(t)).call(o,(function(n,r){return n[r]=Ft(t[r],e+1),n}),{})}return n},jt=0,Ht=function(t,e,n){var r;return u()(r=Y()(Array.prototype).call(e,n||wt)).call(r,(function(e){return Object(S.createBatchItem)(e,t)}))},Mt=function(t,e,n){var r="batch-".concat(jt+=1),o=function(t){return Nt&&t instanceof FileList||"[object FileList]"===t.toString()}(t);return t=U()(t)||o?t:[t],{id:r,uploaderId:e,items:Ht(r,t,n.fileFilter),state:S.BATCH_STATES.ADDED,completed:0,loaded:0}},xt=h()(z),Gt=0,Xt=function(t){var e="uploader-".concat(Gt+=1),n=!1,r=[],o={};S.logger.debugLog("uploady.uploader: creating new instance (".concat(e,")"),{options:t,counter:Gt});var i=function(t){return ot()(ot()(ot()({},Dt),t),{},{destination:t&&t.destination?(e=t.destination,ot()({filesParamName:"file",params:{}},e)):null});var e}(t),c=function(){l()(r).call(r,0)},d=Object(b.default)({id:e,update:function(t){return i=Object(S.merge)({},i,t),E},add:function(t,e){var n,o=Object(S.merge)({},i,e),u=T.addNewBatch(t,E.id,o);return u.items.length?n=T.runCancellable(z.BATCH_ADD,u,o).then((function(t){var e;t?(u.state=S.BATCH_STATES.CANCELLED,v(z.BATCH_CANCEL,u)):(S.logger.debugLog(g()(e="uploady.uploader [".concat(E.id,"]: new items added - auto upload =\n                        ")).call(e,String(o.autoUpload)),u.items),o.autoUpload?T.process(u):(o.clearPendingOnAdd&&c(),r.push({batch:u,uploadOptions:o})))})):S.logger.debugLog("uploady.uploader: no items to add. batch ".concat(u.id," is empty. check fileFilter if this isn't intended")),n||p.a.resolve()},upload:function(t){var e;a()(e=l()(r).call(r,0)).call(e,(function(e){var n=e.batch,r=e.uploadOptions;return T.process(n,Object(S.merge)({},r,t))}))},abort:function(t){T.abort(t)},abortBatch:function(t){T.abortBatch(t)},getOptions:function(){return Object(S.clone)(i)},getPending:function(){return s()(r).call(r)},clearPending:c,registerExtension:function(t,e){Object(S.invariant)(n,"Uploady - uploader extensions can only be registered by enhancers"),Object(S.invariant)(!o[t],"Uploady - uploader extension by this name [%s] already exists",t),S.logger.debugLog("uploady.uploader: registering extension: ".concat(t.toString()),e),o[t]=e},getExtension:function(t){return o[t]}},xt,{canAddEvents:!1,canRemoveEvents:!1}),f=d.trigger,E=d.target,v=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=Object(b.createLifePack)((function(){return u()(n).call(n,Ft)}));return f(t,o)},h=Object(S.triggerCancellable)(v);if(i.enhancer){n=!0;var m=i.enhancer(E,v);n=!1,E=m||E}var T=function(t,e,n,r){var o=Bt(),u=Ct(n,t,e,o,r);return{process:function(t,e){u.uploadBatch(t,e)},abortBatch:function(t){u.abortBatch(t)},abort:function(t){t?u.abortItem(t):u.abortAll()},addNewBatch:function(t,e,n){var r=Mt(t,e,n);return u.addBatch(r,n)},runCancellable:u.runCancellable}}(v,h,i,E.id);return Object(S.devFreeze)(E)},kt=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return T()(e).call(e,(function(t,e){var n;return e.apply(void 0,g()(n=[t]).call(n,r))||t}),t)}};e.default=Xt},VPmE:function(t,e,n){"use strict";n.d(e,"e",(function(){return r})),n.d(e,"h",(function(){return d})),n.d(e,"b",(function(){return E})),n.d(e,"i",(function(){return w})),n.d(e,"c",(function(){return P})),n.d(e,"a",(function(){return D})),n.d(e,"j",(function(){return j})),n.d(e,"f",(function(){return I})),n.d(e,"d",(function(){return H.a})),n.d(e,"g",(function(){return p}));var r=function(t){return"function"==typeof t},o=n("/FZm"),u=n.n(o),i=n("FLGM"),a=n.n(i),c=n("o+MX"),l=n.n(c),d=function(t,e,n){var r=!0,o=function(t){var e,n=l()(e=[]).call(e,t);return function(t){return a()(t).call(t,(function(t){return a()(n).call(n,(function(e){return t[e]})).join()}))}}(n);if(t&&e&&t.length===e.length){var i=o(t),c=o(e);r=!!u()(i).call(i,(function(t,e){return t!==c[e]}))}return!r},s=n("9yv6"),f=n.n(s),p=function(){return!0},E=function(t){return p()?t:f()(t)},g=n("RXMP"),v=n.n(g),h=n("OWCx"),b=n.n(h),S=n("+oHS"),m=n.n(S),T=n("6UaR"),A=n.n(T),O=n("zKQ6"),L=n.n(O),R=n("nhkr"),_=n.n(R),I=function(t){var e;return!!t&&"object"===_()(t)&&("Object"===(null===(e=L()(t))||void 0===e?void 0:e.constructor.name)||null===L()(t))},y=function(t){return I(t)||A()(t)},C=function(t,e){var n=m()(t);return e.withSymbols?l()(n).call(n,b()(t)):n},P=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=arguments[u];return n&&o.length&&v()(o).call(o,(function(r){var o;r&&v()(o=C(r,t)).call(o,(function(o){var u=r[o];t.predicate&&!t.predicate(o,u)||(void 0!==u||t.undefinedOverwrites)&&(y(u)?(void 0!==n[o]&&I(n[o])||(n[o]=A()(u)?[]:{}),e(n[o],u)):n[o]=u)}))})),n};return e},w=P(),D=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w;return y(t)?e(A()(t)?[]:{},t):t},U=n("ZbhI"),B=n.n(U),N=n("KYsz"),F=n.n(N),j=function(t,e){var n;return t&&F()(n=m()(t)).call(n,(function(n,r){return~B()(e).call(e,r)&&(n[r]=t[r]),n}),{})},H=n("n5N2")},Xsbf:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return dt})),n.d(e,"addLife",(function(){return dt})),n.d(e,"isLE",(function(){return $})),n.d(e,"createLifePack",(function(){return gt}));var r=n("04Ix"),o=n.n(r),u=n("RSWj"),i=n.n(u),a=n("HnXd"),c=n.n(a),l=n("M5Mt"),d=n.n(l),s=n("OBge"),f=n.n(s),p=n("Vi3r"),E=n.n(p),g=n("FLGM"),v=n.n(g),h=n("5PDf"),b=n.n(h),S=n("kT1S"),m=n.n(S),T=n("eLKs"),A=n.n(T),O=n("+oHS"),L=n.n(O),R=n("zLi2"),_=n.n(R),I=n("i5y0"),y=n.n(I),C=n("KYsz"),P=n.n(C),w=n("STz3"),D=n.n(w),U=n("cdeZ"),B=n.n(U),N=n("UtpJ"),F=n.n(N),j=n("/FZm"),H=n.n(j),M=n("ZbhI"),x=n.n(M),G=n("JlUD"),X=n.n(G),k=n("mHo/"),q=Object(k.devFreeze)({allowRegisterNonExistent:!0,canAddEvents:!0,canRemoveEvents:!0,collectStats:!1}),z=function(t,e){if(!Object(k.isFunction)(t))throw new Error("'".concat(e,"' is not a valid function"))},V=function(t){return void 0===t},W=n("CtDf"),Q=n.n(W),Z=Q()("__le__"),Y=Q()("__le__pack__"),J=function(t){return t?t[Z]:null},K=function(t){var e=J(t);if(!e)throw new Error("Didnt find LE internal object. Something very bad happened!");return e},$=function(t){return!!J(t)},tt=function(t,e,n){var r,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];z(n,"cb");var u=K(t);if(!u.options.allowRegisterNonExistent&&!~x()(r=u.events).call(r,e))throw new Error("Cannot register for event ".concat(e.toString()," that wasn't already defined (allowRegisterNonExistent = false)"));var i=u.registry[e]||[];return H()(i).call(i,(function(t){return t.cb===n}))||(i.push({name:e,cb:n,once:o}),u.registry[e]=i),function(){return ct.call(t,e,n)}},et=function(t,e){var n,r,o=K(t).registry;return e?o[e]?F()(n=o[e]).call(n):[]:B()(r=D()(o)).call(r)},nt={on:function(t,e){return tt(this,t,e)},once:function(t,e){return tt(this,t,e,!0)},off:ct,getEvents:function(){var t;return F()(t=K(this).events).call(t)}},rt=function(){var t;return P()(t=y()(nt)).call(t,(function(t,e){var n=_()(e,2),r=n[0],o=n[1];return t[r]={value:o},t}),{})},ot={trigger:function(t){for(var e=this,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var u,i=et(this,t);if(i.length){var a,c,l,d;1===r.length&&!0===(null===(a=r[0])||void 0===a?void 0:a[Y])&&(d=r[0].resolve()),u=v()(c=b()(l=v()(i).call(i,(function(n){return n.once&&at(e,t,n.cb),d?n.cb.apply(n,E()(d)):r.length?1===r.length?n.cb(r[0]):2===r.length?n.cb(r[0],r[1]):3===r.length?n.cb(r[0],r[1],r[2]):n.cb.apply(n,r):n.cb()}))).call(l,(function(t){return!V(t)}))).call(c,(function(t){return X()(t)?t:f.a.resolve(t)}))}return u&&(u.length?u:void 0)},addEvent:function(t){var e=K(this);if(!e.options.canAddEvents)throw new Error("Cannot add new events (canAddEvents = false)");var n;if(~x()(n=e.events).call(n,t))throw new Error("Event '".concat(t,"' already defined"));e.events.push(t)},removeEvent:function(t){var e=K(this);if(!e.options.canRemoveEvents)throw new Error("Cannot remove events (canRemoveEvents = false)");var n,r,o=x()(n=e.events).call(n,t);d()(r=e.events).call(r,o,1)},hasEvent:function(t){var e,n=K(this);return!!~x()(e=n.events).call(e,t)},hasEventRegistrations:function(t){return!!et(this,t).length},assign:function(t){var e=K(this);return lt(t,e.options,e.events,e.registry,e.stats),ut(t)}},ut=function(t){var e;return P()(e=L()(ot)).call(e,(function(e,n){var r;return e[n]=A()(r=ot[n]).call(r,t),e}),m()({target:t},ot))},it=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=K(t).registry;!r[e]||!n&&r[e].length||delete r[e]},at=function(t,e,n){var r,o=K(t).registry;o[e]&&(n?(o[e]=b()(r=o[e]).call(r,(function(t){return t.cb!==n})),it(t,e)):it(t,e,!0))};function ct(t,e){at(this,t,e)}var lt=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};c()(t,m()(o()({},Z,{value:i()({registry:r,events:n,options:e,stats:u})}),rt()))},dt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;return t=t||{},n=m()(m()({},q),n),$(t)||lt(t,n,e),ut(t)},st=n("LYCE"),ft=n.n(st),pt=n("o+MX"),Et=n.n(pt),gt=function(t){var e={resolve:function(){var e;return Et()(e=[]).call(e,t())}};return ft()(e,Y,{value:!0,configurable:!1}),e}},cDcd:function(e,n){e.exports=t},faye:function(t,n){t.exports=e},h0aC:function(t,e,n){"use strict";n.r(e),n.d(e,"useBatchAddListener",(function(){return T})),n.d(e,"useBatchStartListener",(function(){return A})),n.d(e,"useBatchProgressListener",(function(){return _})),n.d(e,"useBatchFinishListener",(function(){return O})),n.d(e,"useBatchCancelledListener",(function(){return L})),n.d(e,"useBatchAbortListener",(function(){return R})),n.d(e,"useItemStartListener",(function(){return I})),n.d(e,"useItemFinishListener",(function(){return y})),n.d(e,"useItemProgressListener",(function(){return U})),n.d(e,"useItemCancelListener",(function(){return C})),n.d(e,"useItemErrorListener",(function(){return P})),n.d(e,"useItemAbortListener",(function(){return w})),n.d(e,"useItemFinalizeListener",(function(){return D})),n.d(e,"useRequestPreSend",(function(){return B})),n.d(e,"useAllAbortListener",(function(){return N})),n.d(e,"generateUploaderEventHook",(function(){return S})),n.d(e,"generateUploaderEventHookWithState",(function(){return b})),n.d(e,"logWarning",(function(){return m})),n.d(e,"assertContext",(function(){return g})),n.d(e,"useUploadOptions",(function(){return F})),n.d(e,"useAbortItem",(function(){return j})),n.d(e,"useAbortBatch",(function(){return H})),n.d(e,"useAbortAll",(function(){return M})),n.d(e,"NoDomUploady",(function(){return V})),n.d(e,"UploadyContext",(function(){return E})),n.d(e,"createContextApi",(function(){return p})),n.d(e,"withRequestPreSendUpdate",(function(){return $})),n.d(e,"useUploadyContext",(function(){return v})),n.d(e,"useUploady",(function(){return v}));var r=n("kT1S"),o=n.n(r),u=n("SXZu"),i=n("o+MX"),a=n.n(i),c=n("zLi2"),l=n.n(c),d=n("cDcd"),s=n.n(d),f=n("mHo/"),p=function(t,e){var n,r;e?n=e:f.logger.debugLog("Uploady context - didn't receive input field ref - waiting for external ref");var o=function(){var t;return null===(t=n)||void 0===t?void 0:t.current},u=function(){var t=o();Object(f.invariant)(t,"Uploady - Context. File input isn't available"),t.removeEventListener("change",u);var e=r;r=null,i(t.files,e)},i=function(e,n){t.add(e,n)};return{hasUploader:function(){return!!t},setExternalFileInput:function(t){n=t},showFileUpload:function(t){var e=o();Object(f.invariant)(e,"Uploady - Context. File input isn't available"),r=t,e.removeEventListener("change",u),e.addEventListener("change",u),e.value="",e.click()},upload:i,processPending:function(e){t.upload(e)},setOptions:function(e){t.update(e)},getOptions:function(){return t.getOptions()},getExtension:function(e){return t.getExtension(e)},abort:function(e){t.abort(e)},abortBatch:function(e){t.abortBatch(e)},on:function(e,n){return t.on(e,n)},once:function(e,n){return t.once(e,n)},off:function(e,n){return t.off(e,n)}}},E=s.a.createContext(null),g=function(t){return Object(f.invariant)(t&&t.hasUploader(),"Uploady - valid UploadyContext not found. Make sure you render inside <Uploady>"),t},v=function(){return g(Object(d.useContext)(E))},h=function(t,e){var n=v(),r=n.on,o=n.off;Object(d.useEffect)((function(){return r(t,e),function(){o(t,e)}}),[t,e,r,o])},b=function(t,e){return function(n,r){var o=Object(d.useState)(null),u=l()(o,2),i=u[0],c=u[1],s=Object(d.useCallback)((function(t){if(!r||t.id===r){for(var o,u,i=arguments.length,l=new Array(i>1?i-1:0),d=1;d<i;d++)l[d-1]=arguments[d];if(c(e.apply(void 0,a()(o=[t]).call(o,l))),n)n.apply(void 0,a()(u=[t]).call(u,l))}}),[n,r]);return h(t,s),i}},S=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n,r){var o=Object(d.useCallback)((function(t){for(var o,u=arguments.length,i=new Array(u>1?u-1:0),c=1;c<u;c++)i[c-1]=arguments[c];return!n||e&&r&&t.id!==r?void 0:n.apply(void 0,a()(o=[t]).call(o,i))}),[n,r]);h(t,o)}},m=function(t,e){Object(f.isProduction)()||t||console.warn(e)},T=S(u.UPLOADER_EVENTS.BATCH_ADD,!1),A=S(u.UPLOADER_EVENTS.BATCH_START),O=S(u.UPLOADER_EVENTS.BATCH_FINISH),L=S(u.UPLOADER_EVENTS.BATCH_CANCEL),R=S(u.UPLOADER_EVENTS.BATCH_ABORT),_=b(u.UPLOADER_EVENTS.BATCH_PROGRESS,(function(t){return o()({},t)})),I=S(u.UPLOADER_EVENTS.ITEM_START),y=S(u.UPLOADER_EVENTS.ITEM_FINISH),C=S(u.UPLOADER_EVENTS.ITEM_CANCEL),P=S(u.UPLOADER_EVENTS.ITEM_ERROR),w=S(u.UPLOADER_EVENTS.ITEM_ABORT),D=S(u.UPLOADER_EVENTS.ITEM_FINALIZE),U=b(u.UPLOADER_EVENTS.ITEM_PROGRESS,(function(t){return o()({},t)})),B=S(u.UPLOADER_EVENTS.REQUEST_PRE_SEND,!1),N=S(u.UPLOADER_EVENTS.ALL_ABORT,!1),F=function(t){var e=v();return t&&e.setOptions(t),e.getOptions()},j=function(){var t=v();return Object(d.useCallback)((function(e){return t.abort(e)}),[t])},H=function(){var t=v();return Object(d.useCallback)((function(e){return t.abortBatch(e)}),[t])},M=function(){var t=v();return Object(d.useCallback)((function(){return t.abort()}),[t])},x=n("tpxy"),G=n.n(x),X=n("i5y0"),k=n.n(X),q=n("RXMP"),z=n.n(q),V=function(t){var e=t.listeners,n=t.debug,r=t.children,o=t.inputRef,i=G()(t,["listeners","debug","children","inputRef"]);f.logger.setDebug(!!n),f.logger.debugLog("@@@@@@ Uploady Rendering @@@@@@",t);var a=function(t,e){var n=Object(d.useMemo)((function(){return f.logger.debugLog("Uploady creating a new uploader instance",t),Object(u.default)(t)}),[t.enhancer]);return n.update(t),Object(d.useEffect)((function(){var t;e&&(f.logger.debugLog("Uploady setting event listeners",e),z()(t=k()(e)).call(t,(function(t){var e=l()(t,2),r=e[0],o=e[1];n.on(r,o)})));return function(){var t;e&&(f.logger.debugLog("Uploady removing event listeners",e),z()(t=k()(e)).call(t,(function(t){var e=l()(t,2),r=e[0],o=e[1];return n.off(r,o)})))}}),[e,n]),n}(i,e),c=Object(d.useMemo)((function(){return p(a,o)}),[a,o]);return s.a.createElement(E.Provider,{value:c},r)},W=n("EcSs"),Q=n.n(W),Z=n("OBge"),Y=n.n(Z),J=n("/FZm"),K=n.n(J),$=function(t){return function(e){var n=v(),r=e.id,o=Object(d.useState)({update:null,data:null}),i=l()(o,2),a=i[0],c=i[1];return Object(d.useLayoutEffect)((function(){var t=function(e){var o;return K()(o=e.items).call(o,(function(t){return t.id===r}))&&new Y.a((function(r){c((function(){return{update:function(e){n.off(u.UPLOADER_EVENTS.REQUEST_PRE_SEND,t),r(e)},data:e}}))}))};return r&&n.on(u.UPLOADER_EVENTS.REQUEST_PRE_SEND,t),function(){r&&n.off(u.UPLOADER_EVENTS.REQUEST_PRE_SEND,t)}}),[n,r]),s.a.createElement(t,Q()({},e,{updateRequest:a.update,requestData:a.data}))}}},lFlW:function(t,e,n){"use strict";n.r(e),n.d(e,"useFileInput",(function(){return O})),n.d(e,"Uploady",(function(){return g})),n.d(e,"UPLOADER_EVENTS",(function(){return L.UPLOADER_EVENTS})),n.d(e,"DEFAULT_OPTIONS",(function(){return L.DEFAULT_OPTIONS})),n.d(e,"composeEnhancers",(function(){return L.composeEnhancers})),n.d(e,"createUploader",(function(){return L.createUploader})),n.d(e,"send",(function(){return L.send})),n.d(e,"getXhrSend",(function(){return L.getXhrSend})),n.d(e,"XHR_SENDER_TYPE",(function(){return L.XHR_SENDER_TYPE})),n.d(e,"MissingUrlError",(function(){return L.MissingUrlError})),n.d(e,"useBatchAddListener",(function(){return f.useBatchAddListener})),n.d(e,"useBatchStartListener",(function(){return f.useBatchStartListener})),n.d(e,"useBatchProgressListener",(function(){return f.useBatchProgressListener})),n.d(e,"useBatchFinishListener",(function(){return f.useBatchFinishListener})),n.d(e,"useBatchCancelledListener",(function(){return f.useBatchCancelledListener})),n.d(e,"useBatchAbortListener",(function(){return f.useBatchAbortListener})),n.d(e,"useItemStartListener",(function(){return f.useItemStartListener})),n.d(e,"useItemFinishListener",(function(){return f.useItemFinishListener})),n.d(e,"useItemProgressListener",(function(){return f.useItemProgressListener})),n.d(e,"useItemCancelListener",(function(){return f.useItemCancelListener})),n.d(e,"useItemErrorListener",(function(){return f.useItemErrorListener})),n.d(e,"useItemAbortListener",(function(){return f.useItemAbortListener})),n.d(e,"useItemFinalizeListener",(function(){return f.useItemFinalizeListener})),n.d(e,"useRequestPreSend",(function(){return f.useRequestPreSend})),n.d(e,"useAllAbortListener",(function(){return f.useAllAbortListener})),n.d(e,"generateUploaderEventHook",(function(){return f.generateUploaderEventHook})),n.d(e,"generateUploaderEventHookWithState",(function(){return f.generateUploaderEventHookWithState})),n.d(e,"logWarning",(function(){return f.logWarning})),n.d(e,"assertContext",(function(){return f.assertContext})),n.d(e,"useUploadOptions",(function(){return f.useUploadOptions})),n.d(e,"useAbortItem",(function(){return f.useAbortItem})),n.d(e,"useAbortBatch",(function(){return f.useAbortBatch})),n.d(e,"useAbortAll",(function(){return f.useAbortAll})),n.d(e,"NoDomUploady",(function(){return f.NoDomUploady})),n.d(e,"UploadyContext",(function(){return f.UploadyContext})),n.d(e,"createContextApi",(function(){return f.createContextApi})),n.d(e,"withRequestPreSendUpdate",(function(){return f.withRequestPreSendUpdate})),n.d(e,"useUploadyContext",(function(){return f.useUploadyContext})),n.d(e,"useUploady",(function(){return f.useUploady}));var r=n("tpxy"),o=n.n(r),u=n("EcSs"),i=n.n(u),a=n("cDcd"),c=n.n(a),l=n("faye"),d=n.n(l),s=n("mHo/"),f=n("h0aC"),p=function(t,e,n){return c.a.createElement("input",i()({},t,{name:e.inputFieldName,type:"file",ref:n}))},E=Object(a.memo)(Object(a.forwardRef)((function(t,e){var n=t.container,r=t.noPortal,u=o()(t,["container","noPortal"]),i=Object(f.useUploadOptions)(),a=n&&1===n.nodeType;return Object(s.invariant)(a||!Object(s.hasWindow)(),"Uploady - Container for file input must be a valid dom element"),r?p(u,i,e):function(t,e,n,r,o){return t&&e?d.a.createPortal(p(n,r,o),t):null}(n,a,u,i,e)}))),g=function(t){var e=t.multiple,n=void 0===e||e,r=t.capture,u=t.accept,l=t.webkitdirectory,d=t.children,p=t.inputFieldContainer,g=t.customInput,v=t.fileInputId,h=t.noPortal,b=void 0!==h&&h,S=o()(t,["multiple","capture","accept","webkitdirectory","children","inputFieldContainer","customInput","fileInputId","noPortal"]),m=g?null:p||(Object(s.hasWindow)()?document.body:null),T=Object(a.useRef)();return c.a.createElement(f.NoDomUploady,i()({},S,{inputRef:T}),g?null:c.a.createElement(E,{container:m,multiple:n,capture:r,accept:u,webkitdirectory:l,style:{display:"none"},ref:T,id:v,noPortal:b}),d)},v=n("UtpJ"),h=n.n(v),b=n("o+MX"),S=n.n(b),m=n("pPxq"),T=n.n(m),A=function(t){var e=t.closest("form"),n={filesParamName:t.getAttribute("name"),method:void 0,url:void 0};if(e){var r,o=e.getAttribute("method"),u=function(t){var e,n,r,o,u,i,a,c,l=window.location,d=t.getAttribute("action")||"";switch(d=d.replace(/\s/g,""),!0){case""===d:d=l.href;break;case T()(d).call(d,"/"):d=S()(e=S()(n="".concat(l.protocol,"//")).call(n,l.host)).call(e,d);break;case!/:\/\//.test(d):c=S()(r=h()(o=l.pathname.split("/")).call(o,0,-1)).call(r,"").join("/"),d=S()(u=S()(i=S()(a="".concat(l.protocol,"//")).call(a,l.host)).call(i,c)).call(u,d)}return d}(e);n.method=o?o.toUpperCase():void 0,n.url=u,s.logger.debugLog(S()(r="Uploady.useFileInput: using custom input's parent form url ".concat(n.url," and method ")).call(r,n.method||""))}return n},O=function(t){var e=Object(f.useUploadyContext)();e.setExternalFileInput(t),Object(a.useEffect)((function(){if(t.current&&t.current.closest){var n=t.current,r=e.getOptions();if(!r.destination||!r.destination.url){var o=A(n);e.setOptions({destination:o})}}}),[t,e])},L=n("SXZu");e.default=g},"mHo/":function(t,e,n){"use strict";n.r(e),n.d(e,"BATCH_STATES",(function(){return a.a})),n.d(e,"FILE_STATES",(function(){return a.c})),n.d(e,"invariant",(function(){return o.a})),n.d(e,"throttle",(function(){return i.a})),n.d(e,"logger",(function(){return c})),n.d(e,"triggerCancellable",(function(){return g})),n.d(e,"triggerUpdater",(function(){return h})),n.d(e,"createBatchItem",(function(){return R})),n.d(e,"request",(function(){return M})),n.d(e,"parseResponseHeaders",(function(){return H})),n.d(e,"isFunction",(function(){return x.e})),n.d(e,"isPlainObject",(function(){return x.f})),n.d(e,"isSamePropInArrays",(function(){return x.h})),n.d(e,"devFreeze",(function(){return x.b})),n.d(e,"merge",(function(){return x.i})),n.d(e,"getMerge",(function(){return x.c})),n.d(e,"clone",(function(){return x.a})),n.d(e,"pick",(function(){return x.j})),n.d(e,"hasWindow",(function(){return x.d})),n.d(e,"isProduction",(function(){return x.g}));var r=n("kvau"),o=n.n(r),u=n("uDTZ"),i=n.n(u),a=n("10TY"),c=n("ytft"),l=n("TEMH"),d=n.n(l),s=n("o+MX"),f=n.n(s),p=n("OBge"),E=n.n(p),g=function(t,e){for(var n,r=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return new E.a((function(n,o){var u,i=t.apply(void 0,f()(u=[e]).call(u,r));i&&i.length?E.a.all(i).catch(o).then((function(t){return t&&n(!!~d()(t).call(t,(function(t){return!1===t})))})):n(!1)}))},o=arguments.length,u=new Array(o>2?o-2:0),i=2;i<o;i++)u[i-2]=arguments[i];return e?r.apply(void 0,f()(n=[e]).call(n,u)):r},v=function(t){return null==t},h=function(t,e){for(var n,r=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return new E.a((function(n,o){var u,i=t.apply(void 0,f()(u=[e]).call(u,r));i&&i.length?E.a.all(i).catch(o).then((function(t){var e;if(t)for(;v(e)&&t.length;)e=t.pop();n(v(e)?void 0:e)})):n()}))},o=arguments.length,u=new Array(o>2?o-2:0),i=2;i<o;i++)u[i-2]=arguments[i];return e?r.apply(void 0,f()(n=[e]).call(n,u)):r},b=n("LYCE"),S=n.n(b),m=n("nhkr"),T=n.n(m),A=n("CtDf"),O=n.n(A)()("__rpldy-bi__"),L=0,R=function(t,e){var n;L+=1;var r={id:t.id&&t.batchId?t.id:f()(n="".concat(e,".item-")).call(n,L),batchId:e,state:a.c.ADDED,completed:0,loaded:0,aborted:!1,recycled:!1,previousBatch:null};if(S()(r,O,{value:!0,writable:!0}),"object"===T()(t)&&!0===t[O]&&(r.recycled=!0,r.previousBatch=t.batchId,t=t.file||t.url),"string"==typeof t)r=function(t,e){return t.url=e,t}(r,t);else{if(!function(t){return t&&(t instanceof Blob||t instanceof File||"object"===T()(t)&&t.name&&t.type)}(t))throw new Error("Unknown type of file added: ".concat(T()(t)));r=function(t,e){return t.file=e,t}(r,t)}return r},_=n("+oHS"),I=n.n(_),y=n("RXMP"),C=n.n(y),P=function(t,e){var n;e&&C()(n=I()(e)).call(n,(function(n){void 0!==e[n]&&t.setRequestHeader(n,e[n])}))},w=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new XMLHttpRequest,o=new E.a((function(o,u){r.onerror=function(){return u(r)},r.ontimeout=function(){return u(r)},r.onabort=function(){return u(r)},r.onload=function(){return o(r)},r.open(n.method||"GET",t),P(r,n.headers),r.withCredentials=!!n.withCredentials,n.preSend&&n.preSend(r),r.send(e)}));return o.xhr=r,o},D=n("zLi2"),U=n.n(D),B=n("RKTd"),N=n.n(B),F=n("KYsz"),j=n.n(F),H=function(t){var e;try{var n,r;e=j()(n=N()(r=t.getAllResponseHeaders()).call(r).split(/[\r\n]+/)).call(n,(function(t,e){var n=e.split(": "),r=U()(n,2),o=r[0],u=r[1];return t[o]=u,t}),{})}catch(e){Object(c.debugLog)("uploady.request: failed to read response headers",t)}return e},M=w,x=n("VPmE")},n5N2:function(t,e,n){"use strict";var r=n("nhkr"),o=n.n(r);e.a=function(){return"object"===("undefined"==typeof window?"undefined":o()(window))&&!!window.document}},ytft:function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"isDebugOn",(function(){return l})),n.d(e,"setDebug",(function(){return d})),n.d(e,"debugLog",(function(){return s}));var r,o=n("ZbhI"),u=n.n(o),i=n("10TY"),a=n("n5N2"),c=n("VPmE"),l=function(){var e;"boolean"!=typeof r&&(r=!Object(c.g)()&&t.env.DEBUG||Object(a.a)()&&("location"in window&&!!~u()(e=window.location.search).call(e,"rpldy_debug=true")||!0===window[i.b]));return r},d=function(t){Object(a.a)()&&(window[i.b]=t),r=!!t||null},s=function(){var t;l()&&(t=console).log.apply(t,arguments)}}.call(this,n("8oxB"))}})}));
//# sourceMappingURL=rpldy-ui-core.umd.min.js.map